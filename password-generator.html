<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Password Generator | MegaToolsOnline</title>
<meta name="description" content="Generate strong passwords with options and animated magic spinner." />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

<style>
  :root{
    --bg1:#071428; --bg2:#0b2f44;
    --card: rgba(255,255,255,0.04);
    --accent1:#6ee7b7; --accent2:#60a5fa;
    --text: #e8fbff;
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
    font-family:Inter, "Segoe UI", Roboto, Arial, sans-serif;
    background: radial-gradient(600px 300px at 10% 10%, rgba(96,165,250,0.06), transparent 10%),
                radial-gradient(500px 250px at 90% 90%, rgba(110,231,183,0.04), transparent 12%),
                linear-gradient(180deg,var(--bg1),var(--bg2));
    color:var(--text);
    padding:24px;
  }

  .card{
    width:100%; max-width:520px; background:var(--card); padding:26px; border-radius:16px;
    border:1px solid rgba(255,255,255,0.03); box-shadow:0 20px 60px rgba(0,0,0,0.6);
    transform-style:preserve-3d;
  }
  .head{display:flex;align-items:center;gap:14px}
  .logo{
    width:60px;height:60px;border-radius:12px;background:linear-gradient(135deg,var(--accent2),var(--accent1));
    display:flex;align-items:center;justify-content:center;font-size:26px;color:#042029;box-shadow:0 10px 30px rgba(0,0,0,0.5);
  }
  h1{margin:0;font-size:20px}
  p.lead{margin:8px 0 18px;color:rgba(232,251,255,0.85)}

  /* controls */
  .controls{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px}
  .controls label{display:flex;gap:8px;align-items:center;font-size:14px}
  .controls input[type="number"]{width:84px;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06); background:transparent;color:var(--text)}
  .checkbox{display:flex;gap:8px;align-items:center}

  /* output */
  .output{
    display:flex;gap:10px;align-items:center;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
    margin-bottom:12px;
  }
  .password-text{flex:1;font-weight:600;letter-spacing:0.6px;word-break:break-all}
  .btn{
    background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;padding:10px 14px;border-radius:10px;color:#042029;font-weight:700;cursor:pointer;
    box-shadow:0 8px 28px rgba(96,165,250,0.08);
  }
  .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text)}
  .btn.secondary:hover{transform:translateY(-4px)}

  /* spinner (magic) */
  .spinner-wrap{width:46px;height:46px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative}
  .spinner{
    width:36px;height:36px;border-radius:50%;border:4px solid rgba(255,255,255,0.06);border-top-color:var(--accent1);animation:spin 1s linear infinite; display:none;
  }
  @keyframes spin{to{transform:rotate(360deg)}}

  /* strength bar */
  .strength{height:10px;border-radius:8px;background:rgba(255,255,255,0.04);overflow:hidden;margin-bottom:10px}
  .strength > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,#ff6b6b,#ffd166,#6ee7b7);transition:width .4s}

  .meta{font-size:13px;color:rgba(232,251,255,0.8)}

  /* small screens */
  @media (max-width:520px){
    .controls{flex-direction:column;align-items:flex-start}
    .output{flex-direction:column;align-items:flex-start;gap:8px}
    .spinner-wrap{order:2}
  }
</style>
</head>
<body>
  <div class="card" role="region" aria-label="Password generator">
    <div class="head">
      <div class="logo" aria-hidden><i class="fa fa-lock"></i></div>
      <div>
        <h1>Password Generator</h1>
        <p class="lead">Create strong passwords. Use options, press Generate â€” watch the magic spinner!</p>
      </div>
    </div>

    <!-- options -->
    <div class="controls" aria-hidden>
      <label>Length: <input id="length" type="number" min="4" max="64" value="16"></label>
      <label class="checkbox"><input id="upper" type="checkbox" checked>Uppercase</label>
      <label class="checkbox"><input id="lower" type="checkbox" checked>Lowercase</label>
      <label class="checkbox"><input id="numbers" type="checkbox" checked>Numbers</label>
      <label class="checkbox"><input id="symbols" type="checkbox" checked>Symbols</label>
    </div>

    <!-- output + spinner -->
    <div class="output" role="status" aria-live="polite">
      <div class="password-text" id="password">Click Generate to create a password</div>

      <div style="display:flex;flex-direction:column;align-items:center;gap:8px">
        <div class="spinner-wrap" title="Generating..." aria-hidden>
          <div class="spinner" id="spinner"></div>
        </div>

        <button class="btn secondary" id="copyBtn" title="Copy password"><i class="fa fa-copy"></i></button>
      </div>
    </div>

    <div class="strength" aria-hidden><i id="strengthBar"></i></div>
    <div class="meta" id="strengthText">Strength: -</div>

    <div style="display:flex;gap:10px;margin-top:12px;flex-wrap:wrap">
      <button class="btn" id="generateBtn"><i class="fa fa-magic" style="margin-right:8px"></i>Generate</button>
      <button class="btn secondary" id="regenBtn"><i class="fa fa-rotate-right" style="margin-right:8px"></i>Regenerate</button>
    </div>

  </div>

<script>
  // helpers
  const upperChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  const lowerChars = "abcdefghijklmnopqrstuvwxyz";
  const numberChars = "0123456789";
  const symbolChars = "!@#$%^&*()-_=+[]{};:,.<>?";

  const lengthInput = document.getElementById('length');
  const upperInput = document.getElementById('upper');
  const lowerInput = document.getElementById('lower');
  const numbersInput = document.getElementById('numbers');
  const symbolsInput = document.getElementById('symbols');

  const passwordEls = document.getElementById('password');
  const spinner = document.getElementById('spinner');
  const generateBtn = document.getElementById('generateBtn');
  const regenBtn = document.getElementById('regenBtn');
  const copyBtn = document.getElementById('copyBtn');
  const strengthBar = document.getElementById('strengthBar');
  const strengthText = document.getElementById('strengthText');

  function buildCharset(){
    let set = "";
    if (upperInput.checked) set += upperChars;
    if (lowerInput.checked) set += lowerChars;
    if (numbersInput.checked) set += numberChars;
    if (symbolsInput.checked) set += symbolChars;
    return set;
  }

  function generatePassword(){
    const charset = buildCharset();
    const len = Math.max(4, Math.min(64, parseInt(lengthInput.value) || 16));
    if (!charset) {
      passwordEls.textContent = "Select at least one character set.";
      return "";
    }
    let pw = "";
    // ensure each selected type present for strength
    const picks = [];
    if (upperInput.checked) picks.push(randomFrom(upperChars));
    if (lowerInput.checked) picks.push(randomFrom(lowerChars));
    if (numbersInput.checked) picks.push(randomFrom(numberChars));
    if (symbolsInput.checked) picks.push(randomFrom(symbolChars));

    // fill remaining
    for(let i=0;i<len - picks.length;i++){
      picks.push(randomFrom(charset));
    }
    // shuffle
    pw = picks.sort(()=>0.5 - Math.random()).join('');
    return pw;
  }

  function randomFrom(str){ return str.charAt(Math.floor(Math.random()*str.length)); }

  function evaluateStrength(pw){
    let score = 0;
    if (!pw) return {score:0,label:'-'};
    if (pw.length >= 8) score++;
    if (pw.length >= 12) score++;
    if (/[A-Z]/.test(pw)) score++;
    if (/[a-z]/.test(pw)) score++;
    if (/[0-9]/.test(pw)) score++;
    if (/[^A-Za-z0-9]/.test(pw)) score++;
    // normalize to 0-5
    if (score <= 1) return {score:1,label:'Very Weak'};
    if (score === 2) return {score:2,label:'Weak'};
    if (score === 3) return {score:3,label:'Fair'};
    if (score === 4) return {score:4,label:'Good'};
    return {score:5,label:'Strong'};
  }

  function showSpinner(ms=800){
    spinner.style.display = 'block';
    passwordEls.style.opacity = 0.4;
    return new Promise(res => setTimeout(()=>{
      spinner.style.display = 'none';
      passwordEls.style.opacity = 1;
      res();
    }, ms));
  }

  async function handleGenerate(){
    // play spinner + "magic" animation
    await showSpinner(900);
    const pw = generatePassword();
    passwordEls.textContent = pw || 'Unable to generate';
    updateStrength(pw);
  }

  function updateStrength(pw){
    const s = evaluateStrength(pw);
    const percent = (s.score/5)*100;
    strengthBar.style.width = percent + '%';
    strengthText.textContent = `Strength: ${s.label}`;
  }

  // events
  generateBtn.addEventListener('click', handleGenerate);
  regenBtn.addEventListener('click', handleGenerate);

  copyBtn.addEventListener('click', ()=>{
    const text = passwordEls.textContent;
    if (!text || text.includes('Please') || text.includes('Select')) return;
    navigator.clipboard.writeText(text).then(()=> {
      copyBtn.innerHTML = '<i class="fa fa-check"></i>';
      setTimeout(()=> copyBtn.innerHTML = '<i class="fa fa-copy"></i>',1200);
    });
  });

  // default generate on load
  window.addEventListener('load', ()=> {
    handleGenerate();
  });
</script>
</body>
</html>
